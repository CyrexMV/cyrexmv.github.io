<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Hebelgesetz Rechner</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #wippe-container {
      width: 100%;
      height: 150px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
    }
    svg {
      overflow: visible;
    }
    #hebel {
      transform-origin: 150px 50px;
      transition: transform 0.6s ease;
    }
    #mass-left, #mass-right {
      transition: cy 0.6s ease;
    }
  </style>
</head>
<body class="bg-gradient-to-r from-indigo-100 via-white to-blue-100 min-h-screen flex items-center justify-center font-sans">

  <div class="bg-white shadow-2xl rounded-2xl p-10 max-w-xl w-full">
    <h1 class="text-3xl font-bold text-center mb-6 text-indigo-700">‚öñÔ∏è Hebelgesetz Rechner</h1>

    <!-- Eingabeformular -->
    <div class="space-y-4">
      <div>
        <label for="m1" class="block text-gray-700 font-medium">Masse links (m1 in kg):</label>
        <input id="m1" type="number" value="85" class="mt-1 w-full border rounded-lg px-3 py-2 shadow-sm focus:ring focus:ring-indigo-300">
      </div>

      <div>
        <label for="m2" class="block text-gray-700 font-medium">Masse rechts (m2 in kg):</label>
        <input id="m2" type="number" value="14" class="mt-1 w-full border rounded-lg px-3 py-2 shadow-sm focus:ring focus:ring-indigo-300">
      </div>

      <div>
        <label for="l2" class="block text-gray-700 font-medium">Hebelarm rechts (l2 in m):</label>
        <input id="l2" type="number" value="2" step="0.01" class="mt-1 w-full border rounded-lg px-3 py-2 shadow-sm focus:ring focus:ring-indigo-300">
      </div>

      <button onclick="berechneL1()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
        Berechne l1
      </button>
    </div>

    <!-- Ergebnis -->
    <div id="result" class="mt-6 p-4 bg-indigo-50 rounded-lg text-indigo-800 font-semibold text-center shadow-inner">
      Ergebnis erscheint hier...
    </div>

    <!-- Wippe -->
    <div id="wippe-container">
      <svg width="300" height="100">
        <!-- Hebel -->
        <rect id="hebel" x="50" y="45" width="200" height="10" fill="#4f46e5" rx="5" ry="5"/>
        <!-- Fulcrum / Drehpunkt -->
        <polygon points="145,55 155,55 150,80" fill="#000"/>
        <!-- Linke Masse -->
        <circle id="mass-left" cx="50" cy="50" r="15" fill="#f87171"/>
        <!-- Rechte Masse -->
        <circle id="mass-right" cx="250" cy="50" r="15" fill="#34d399"/>
      </svg>
    </div>

    <!-- Beispielaufgabe -->
    <div class="mt-8 border-t pt-6">
      <h2 class="text-xl font-bold text-gray-800 mb-2">üìò Beispielaufgabe & Berechnung</h2>
      <p class="text-gray-700">
        Eine Person mit <b>85 kg</b> sitzt auf der linken Seite, eine Person mit <b>14 kg</b> auf der rechten Seite in <b>2 m</b> Abstand.
        <br><br>
        Gesucht ist der Abstand <b>l1</b> der schweren Person.
      </p>
      <p class="mt-3 font-semibold text-indigo-700" id="formula">
        L√∂sung: l1 = (m2 √ó l2) / m1
      </p>
    </div>
  </div>

  <script>
    function berechneL1() {
      const m1 = parseFloat(document.getElementById("m1").value);
      const m2 = parseFloat(document.getElementById("m2").value);
      const l2 = parseFloat(document.getElementById("l2").value);

      if (isNaN(m1) || isNaN(m2) || isNaN(l2) || m1 <= 0) {
        document.getElementById("result").innerText = "‚ùå Bitte g√ºltige Werte eingeben!";
        return;
      }

      const l1 = (m2 * l2) / m1;

      // Berechnungsschritte anzeigen
      document.getElementById("formula").innerHTML = `
        Berechnung: l1 = (m2 √ó l2) / m1<br>
        l1 = (${m2} √ó ${l2}) / ${m1} = ${l1.toFixed(3)} m ‚âà ${(l1*100).toFixed(0)} cm
      `;

      document.getElementById("result").innerText = 
        `‚û°Ô∏è l1 = ${l1.toFixed(3)} m (‚âà ${(l1*100).toFixed(0)} cm)`;

      // Wippe sanft animieren
      const maxTilt = 15; // max Drehwinkel
      const tilt = maxTilt * (m2*l2 - m1*l1) / Math.max(m1*l1, m2*l2);
      document.getElementById("hebel").setAttribute("transform", `rotate(${tilt} 150 50)`);
      document.getElementById("mass-left").setAttribute("cy", 50 - tilt);
      document.getElementById("mass-right").setAttribute("cy", 50 + tilt);
    }

    // Initial
    berechneL1();
  </script>
</body>
</html>